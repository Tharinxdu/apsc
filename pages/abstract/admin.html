<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>APSC 2026 – Admin Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="page-shell">
    <header class="page-header">
      <div>
        <h1>APSC 2026 – Admin Dashboard</h1>
        <p>Manage users, abstracts, and registrations.</p>
      </div>
      <div style="display:flex;align-items:center;gap:1rem;">
        <span id="adminEmailBadge" class="badge">Admin</span>
        <button class="secondary-button" id="adminLogoutButton">Logout</button>
      </div>
    </header>

    <main class="page-main">

      <!-- ==========================
           TABS
      =========================== -->
      <div class="auth-tabs">
        <button class="tab-button admin-tab active" data-tab="abstracts">Abstracts</button>
        <button class="tab-button admin-tab" data-tab="users">Users</button>
        <button class="tab-button admin-tab" data-tab="registrations">Registrations</button>
      </div>

      <!-- ============================================================
          ABSTRACTS TAB  (unchanged except for layout alignment)
      ============================================================ -->
      <section class="card" id="adminAbstractsTab">

        <div class="dashboard-header">
          <div>
            <h2 class="card-title">Abstracts</h2>
            <p class="card-subtitle">Filter, review and export all abstract submissions.</p>
          </div>
          <button class="primary-button" id="exportExcelButton">Export to Excel</button>
        </div>

        <!-- FILTER BAR -->
        <div class="filter-bar">
          <div class="form-group">
            <label for="filterEmail">Email</label>
            <input type="text" id="filterEmail" placeholder="author@example.com" />
          </div>

          <div class="form-group">
            <label for="filterCategory">Category</label>
            <select id="filterCategory">
              <option value="">All</option>
              <option value="Acute Stroke Management">Acute Stroke Management</option>
              <option value="Stroke Prevention">Stroke Prevention</option>
              <option value="Neuroimaging and Diagnostics">Neuroimaging and Diagnostics</option>
              <option value="Rehabilitation and Recovery">Rehabilitation and Recovery</option>
              <option value="Basic and Translational Research">Basic and Translational Research</option>
              <option value="Health Systems and Policy">Health Systems and Policy</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="filterType">Type</label>
            <select id="filterType">
              <option value="">All</option>
              <option value="Oral">Oral</option>
              <option value="Poster">Poster</option>
              <option value="Either">Either</option>
            </select>
          </div>

          <div class="form-group">
            <label>&nbsp;</label>
            <button class="secondary-button" id="applyFiltersButton">Apply</button>
          </div>

          <div class="form-group">
            <label>&nbsp;</label>
            <button class="secondary-button" id="clearFiltersButton">Clear</button>
          </div>
        </div>

        <div class="form-status" id="adminAbstractsStatus"></div>

        <!-- TABLE -->
        <div class="table-wrapper">
          <table class="table">
            <thead>
              <tr>
                <th>Email</th>
                <th>Title</th>
                <th>Category</th>
                <th>Type</th>
                <th>File</th>
                <th>Updated</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="adminAbstractsTableBody"></tbody>
          </table>
        </div>

        <!-- ABSTRACT DETAILS -->
        <section id="adminAbstractDetailCard" class="card detail-card-hidden">
          <h3 class="card-title">Edit Abstract</h3>

          <form id="adminAbstractForm">
            <input type="hidden" id="adminAbstractId" />

            <div class="form-group">
              <label>Email</label>
              <input type="text" id="adminAbstractEmail" disabled />
            </div>

            <div class="form-group">
              <label>Title</label>
              <input type="text" id="adminAbstractTitle" />
            </div>

            <div class="form-group">
              <label>Scientific Category</label>
              <input type="text" id="adminAbstractCategory" />
            </div>

            <div class="form-group">
              <label>Type</label>
              <input type="text" id="adminAbstractType" />
            </div>

            <div class="form-group full-width">
              <label>Abstract Text</label>
              <textarea id="adminAbstractText"></textarea>
            </div>

            <div class="form-group full-width">
              <label>Keywords</label>
              <input type="text" id="adminAbstractKeywords" />
            </div>

            <div class="form-group">
              <label>Status</label>
              <select id="adminAbstractStatus">
                <option value="submitted">Submitted</option>
                <option value="updated">Updated</option>
                <option value="accepted">Accepted</option>
                <option value="rejected">Rejected</option>
              </select>
            </div>

            <div class="form-actions-row">
              <button class="primary-button" type="submit">Save</button>
              <button class="secondary-button" type="button" id="adminAbstractCloseBtn">Close</button>
            </div>

            <div class="form-status" id="adminAbstractFormStatus"></div>
          </form>
        </section>

      </section>

      <!-- ============================================================
           USERS TAB
      ============================================================ -->
      <section class="card hidden" id="adminUsersTab">
        <h2 class="card-title">Users</h2>
        <p class="card-subtitle">View registered accounts & their abstracts.</p>

        <div class="form-status" id="adminUsersStatus"></div>

        <!-- USERS TABLE -->
        <div class="table-wrapper">
          <table class="table">
            <thead>
              <tr>
                <th>Email</th>
                <th>Role</th>
                <th>Registered</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="adminUsersTableBody"></tbody>
          </table>
        </div>

        <!-- USER DETAILS -->
        <section id="adminUserDetail" class="card detail-card-hidden">
          <h3 id="adminUserDetailSubtitle" class="card-title">User Details</h3>

          <h4 class="card-title" style="margin-top:1rem;">User's Abstracts</h4>

          <div class="table-wrapper">
            <table class="table">
              <thead>
                <tr>
                  <th>Title</th>
                  <th>Category</th>
                  <th>Type</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="adminUserAbstractsBody"></tbody>
            </table>
          </div>
        </section>
      </section>

      <!-- ============================================================
          REGISTRATIONS TAB
      ============================================================ -->
      <section class="card hidden" id="adminRegistrationsTab">

        <h2 class="card-title">Conference Registrations</h2>
        <p class="card-subtitle">View, edit, delete registrations and analyze participant trends.</p>

        <!-- ====================
             STATISTICS CARDS
        ===================== -->
        <div id="registrationStatsContainer" class="stats-grid">
          <!-- Filled by JS -->
        </div>

        <hr class="section-divider" />

        <!-- ====================
             REGISTRATION TABLE
        ===================== -->
        <div class="table-wrapper">
          <table class="table">
            <thead>
              <tr>
                <th>Reg ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Country</th>
                <th>Type</th>
                <th>Fee (USD)</th>
                <th>Payment</th>
                <th>Abstract?</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="adminRegistrationsTableBody">
              <!-- Filled by JS -->
            </tbody>
          </table>
        </div>

        <div class="form-status" id="adminRegistrationsStatus"></div>

        <!-- ================================
             REGISTRATION DETAIL PANEL
        ================================= -->
        <section id="adminRegistrationDetail" class="card detail-card-hidden">
          <h3 class="card-title">Edit Registration</h3>

          <form id="adminRegistrationForm">

            <input type="hidden" id="regDetailId" />

            <div class="form-grid">
              <div class="form-group">
                <label>Registration ID</label>
                <input type="text" id="regDetailRegId" disabled />
              </div>

              <div class="form-group">
                <label>Title</label>
                <input type="text" id="regDetailTitle" />
              </div>

              <div class="form-group">
                <label>First Name</label>
                <input type="text" id="regDetailFirstName" />
              </div>

              <div class="form-group">
                <label>Last Name</label>
                <input type="text" id="regDetailLastName" />
              </div>

              <div class="form-group">
                <label>Email</label>
                <input type="text" id="regDetailEmail" />
              </div>

              <div class="form-group">
                <label>Institution</label>
                <input type="text" id="regDetailInstitution" />
              </div>

              <div class="form-group">
                <label>Country</label>
                <input type="text" id="regDetailCountry" />
              </div>

              <div class="form-group">
                <label>Participant Category</label>
                <input type="text" id="regDetailCategory" />
              </div>

              <div class="form-group">
                <label>Conference Type</label>
                <input type="text" id="regDetailConfType" />
              </div>

              <div class="form-group">
                <label>Fee Amount (USD)</label>
                <input type="number" id="regDetailFee" />
              </div>

              <div class="form-group">
                <label>Payment Status</label>
                <select id="regDetailPaymentStatus">
                  <option value="UNPAID">UNPAID</option>
                  <option value="PAID">PAID</option>
                </select>
              </div>

              <div class="form-group full-width">
                <label>Payment Reference</label>
                <input type="text" id="regDetailPaymentRef" />
              </div>

              <div class="form-group full-width">
                <label>Payment Provider</label>
                <input type="text" id="regDetailPaymentProvider" />
              </div>
            </div>

            <hr class="section-divider" />

            <h4 class="card-title">Submitted Abstracts</h4>
            <div id="regDetailAbstracts"></div>

            <div class="form-actions-row">
              <button type="submit" class="primary-button">Save</button>
              <button type="button" class="secondary-button" id="regDetailDeleteBtn">Delete</button>
              <button type="button" class="secondary-button" id="regDetailCloseBtn">Close</button>
            </div>

            <div class="form-status" id="adminRegistrationFormStatus"></div>
          </form>
        </section>

      </section>

    </main>
  </div>

  <script src="admin.js"></script>
</body>

</html>
